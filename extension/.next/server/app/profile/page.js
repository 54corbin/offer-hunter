(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},7106:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>m,tree:()=>c}),n(4591),n(1506),n(5866);var r=n(3191),o=n(8716),a=n(7922),s=n.n(a),i=n(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);n.d(t,l);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,4591)),"/home/corbin/Development/offer_hunter/extension/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,1506)),"/home/corbin/Development/offer_hunter/extension/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],p=["/home/corbin/Development/offer_hunter/extension/app/profile/page.tsx"],d="/profile/page",u={require:n,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3880:(e,t,n)=>{Promise.resolve().then(n.bind(n,9776))},8812:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2994,23)),Promise.resolve().then(n.t.bind(n,6114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.t.bind(n,1868,23)),Promise.resolve().then(n.t.bind(n,4759,23))},9965:()=>{},1622:(e,t,n)=>{"use strict";n.d(t,{Bq:()=>a,oq:()=>s});var r=n(1312);let o="https://api.openai.com/v1/chat/completions",a=async e=>{let t=await (0,r.et)(),n=t?.apiKey;if(!n)return console.error("LLM API key not found."),null;try{let t=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:e}],temperature:.7})});if(!t.ok){let e=await t.json();return console.error("LLM API request failed:",e),null}let r=await t.json();return r.choices[0]?.message?.content||null}catch(e){return console.error("Error calling LLM API:",e),null}},s=async e=>{let t=await (0,r.et)(),n=t?.apiKey;if(!n)return console.error("LLM API key not found."),null;let a=`
    You are an expert HR data extractor. Based on the following resume text, extract the user's professional information and return it as a JSON object. The JSON object must strictly adhere to the following schema:

    {
      "personalInfo": {
        "name": "string",
        "email": "string",
        "phone": "string"
      },
      "experience": [
        {
          "company": "string",
          "title": "string",
          "startDate": "string",
          "endDate": "string",
          "responsibilities": ["string"]
        }
      ],
      "education": [
        {
          "institution": "string",
          "degree": "string",
          "fieldOfStudy": "string",
          "graduationDate": "string"
        }
      ],
      "skills": ["string"]
    }

    Rules:
    - If a value is not found, use an empty string for string types or an empty array for array types.
    - Dates should be in a consistent format (e.g., YYYY-MM-DD), but if not specified, use the format found in the text.

    Resume Text:
    ---
    ${e}
    ---
  `;try{let e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:a}],temperature:.2})});if(!e.ok){let t=await e.json();return console.error("LLM API request failed:",t),null}let t=await e.json(),r=t.choices[0]?.message?.content;if(!r)return console.error("LLM response did not contain content."),null;{let e=r.match(/```json\n([\s\S]*?)\n```/),t=e?e[1]:r;try{return JSON.parse(t)}catch(e){return console.error("Failed to parse LLM response JSON:",e),null}}}catch(e){return console.error("Error calling LLM API:",e),null}}},9776:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(326),o=n(7577),a=n(1312),s=n(1622);let i={personalInfo:{name:"",email:"",phone:""},experience:[],education:[],skills:[]},l=()=>{let[e,t]=(0,o.useState)(null);(0,o.useEffect)(()=>{(0,a.et)().then(e=>{t(e||i)})},[]);let n=(n,r,o,s)=>{let i={...e};r?null!==o?i[r][o][s]=n:i[r]={...i[r],[s]:n}:i[s]=n,t(i),(0,a.JN)(i)},l=n=>{let r={...e};r[n].push({}),t(r),(0,a.JN)(r)},c=(n,r)=>{let o={...e};o[n].splice(r,1),t(o),(0,a.JN)(o)},p=async e=>{let t=e.target.files[0];if(t){if("application/pdf"===t.type){let e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js",e.onload=()=>{let e=window.pdfjsLib;e.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js";let n=new FileReader;n.onload=async t=>{let n=await e.getDocument({data:t.target.result}).promise,r="";for(let e=1;e<=n.numPages;e++){let t=await n.getPage(e);r+=(await t.getTextContent()).items.map(e=>"str"in e?e.str:"").join(" ")}d(r)},n.readAsArrayBuffer(t)},document.body.appendChild(e)}else if("application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type){let e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.18/mammoth.browser.min.js",e.onload=()=>{let e=new FileReader;e.onload=async e=>{e.target.result instanceof ArrayBuffer&&d((await window.mammoth.extractRawText({arrayBuffer:e.target.result})).value)},e.readAsArrayBuffer(t)},document.body.appendChild(e)}}},d=async e=>{let n=await (0,s.oq)(e);n&&(t(n),(0,a.JN)(n))};return e?(0,r.jsxs)("div",{children:[r.jsx("h2",{children:"Profile Management"}),(0,r.jsxs)("section",{children:[r.jsx("h3",{children:"Upload Resume"}),r.jsx("input",{type:"file",accept:".pdf,.docx",onChange:p})]}),(0,r.jsxs)("section",{children:[r.jsx("h3",{children:"Personal Information"}),r.jsx("input",{type:"text",placeholder:"Name",value:e.personalInfo?.name||"",onChange:e=>n(e.target.value,"personalInfo",null,"name")}),r.jsx("input",{type:"email",placeholder:"Email",value:e.personalInfo?.email||"",onChange:e=>n(e.target.value,"personalInfo",null,"email")}),r.jsx("input",{type:"tel",placeholder:"Phone",value:e.personalInfo?.phone||"",onChange:e=>n(e.target.value,"personalInfo",null,"phone")})]}),(0,r.jsxs)("section",{children:[r.jsx("h3",{children:"Work Experience"}),e.experience?.map((e,t)=>r.jsxs("div",{children:[r.jsx("input",{type:"text",placeholder:"Company",value:e.company||"",onChange:e=>n(e.target.value,"experience",t,"company")}),r.jsx("input",{type:"text",placeholder:"Title",value:e.title||"",onChange:e=>n(e.target.value,"experience",t,"title")}),r.jsx("button",{onClick:()=>c("experience",t),children:"Remove"})]},t)),r.jsx("button",{onClick:()=>l("experience"),children:"Add Experience"})]}),(0,r.jsxs)("section",{children:[r.jsx("h3",{children:"Education"}),e.education?.map((e,t)=>r.jsxs("div",{children:[r.jsx("input",{type:"text",placeholder:"Institution",value:e.institution||"",onChange:e=>n(e.target.value,"education",t,"institution")}),r.jsx("input",{type:"text",placeholder:"Degree",value:e.degree||"",onChange:e=>n(e.target.value,"education",t,"degree")}),r.jsx("button",{onClick:()=>c("education",t),children:"Remove"})]},t)),r.jsx("button",{onClick:()=>l("education"),children:"Add Education"})]}),(0,r.jsxs)("section",{children:[r.jsx("h3",{children:"Skills"}),r.jsx("textarea",{placeholder:"Skills (comma-separated)",value:e.skills?.join(", ")||"",onChange:e=>n(e.target.value.split(",").map(e=>e.trim()),null,null,"skills")})]})]}):r.jsx("div",{children:"Loading..."})}},1312:(e,t,n)=>{"use strict";n.d(t,{JN:()=>c,et:()=>l});var r=n(339),o=n.n(r);let a="your-super-secret-key",s=e=>o().AES.encrypt(e,a).toString(),i=e=>o().AES.decrypt(e,a).toString(o().enc.Utf8),l=()=>new Promise(e=>{chrome&&chrome.storage&&chrome.storage.local?chrome.storage.local.get(["userProfile"],t=>{t.userProfile?e({...t.userProfile,apiKey:t.userProfile.apiKey?i(t.userProfile.apiKey):""}):e(null)}):(console.warn("chrome.storage.local is not available. Using mock data."),e({personalInfo:{name:"John Doe",email:"john.doe@example.com",phone:"123-456-7890"},experience:[],education:[],skills:[],apiKey:"",settings:{autoFillEnabled:!0,aiRecommendationsEnabled:!0,passcodeEnabled:!1,passcodeHash:""}}))}),c=e=>new Promise(t=>{if(chrome&&chrome.storage&&chrome.storage.local){let n={...e};n.settings?.passcodeEnabled&&n.settings.passcode&&(n.settings.passcodeHash=o().SHA256(n.settings.passcode).toString(),delete n.settings.passcode);let r={...n,apiKey:n.apiKey?s(n.apiKey):""};chrome.storage.local.set({userProfile:r},()=>{t()})}else console.warn("chrome.storage.local is not available. Mocking save."),t()})},1506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,metadata:()=>s});var r=n(9510),o=n(5384),a=n.n(o);n(7272);let s={title:"Create Next App",description:"Generated by create next app"};function i({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{children:r.jsx("link",{rel:"icon",href:"/favicon.ico"})}),r.jsx("body",{className:a().className,children:e})]})}},4591:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>i});var r=n(8570);let o=(0,r.createProxy)(String.raw`/home/corbin/Development/offer_hunter/extension/app/profile/page.tsx`),{__esModule:a,$$typeof:s}=o;o.default;let i=(0,r.createProxy)(String.raw`/home/corbin/Development/offer_hunter/extension/app/profile/page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[734,339],()=>n(7106));module.exports=r})();