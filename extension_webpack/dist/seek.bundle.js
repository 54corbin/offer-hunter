(()=>{"use strict";console.log("Seek content script loaded.");let t=null;chrome.runtime.onMessage.addListener((e,o,n)=>{"INITIATE_SCRAPE"===e.type&&(t=e.resumeId,function(){if(!t)return void console.error("No resumeId provided to the scraper.");const e=[];document.querySelectorAll("article").forEach(t=>{var o,n,r,a,i;const l=t.querySelector('a[data-automation="jobTitle"]'),u=t.querySelector('a[data-automation="jobCompany"]'),d=t.querySelector('span[data-automation="jobShortDescription"]'),c=t.querySelector('span[data-automation="jobSalary"]'),s=t.querySelector('a[data-automation="jobLocation"]');if(l&&u&&d){const t=null===(o=l.textContent)||void 0===o?void 0:o.trim(),m=null===(n=u.textContent)||void 0===n?void 0:n.trim(),v=null===(r=d.textContent)||void 0===r?void 0:r.trim(),p=l.href,y=(null===(a=null==c?void 0:c.textContent)||void 0===a?void 0:a.trim())||null,S=(null===(i=null==s?void 0:s.textContent)||void 0===i?void 0:i.trim())||null;t&&m&&v&&p&&e.push({title:t,company:m,description:v,url:p,salary:y,location:S,source:"seek"})}}),e.length>0&&chrome.runtime.sendMessage({type:"SCRAPED_JOB_DATA",data:e,resumeId:t})}())})})();